# Clash è®¢é˜…åˆå¹¶å·¥å…·é…ç½®ç¤ºä¾‹
# è¿™ä¸ªæ–‡ä»¶å±•ç¤ºäº†æ‰€æœ‰å¯ç”¨çš„é…ç½®é€‰é¡¹

# é»˜è®¤é…ç½® - è¿™äº›è®¾ç½®ä¼šåº”ç”¨åˆ°ç”Ÿæˆçš„ Clash é…ç½®ä¸­
[default-config]
# HTTP ä»£ç†ç«¯å£
port = 7890
# SOCKS5 ä»£ç†ç«¯å£  
socks-port = 7891
# æ··åˆä»£ç†ç«¯å£ï¼ˆHTTP + SOCKS5ï¼‰
mixed-port = 7892
# è¿è¡Œæ¨¡å¼ï¼šruleï¼ˆè§„åˆ™æ¨¡å¼ï¼‰ã€globalï¼ˆå…¨å±€æ¨¡å¼ï¼‰ã€directï¼ˆç›´è¿æ¨¡å¼ï¼‰
mode = "rule"
# æ—¥å¿—çº§åˆ«ï¼štraceã€debugã€infoã€warningã€errorã€silent
log-level = "info"
# æ˜¯å¦å…è®¸å±€åŸŸç½‘è¿æ¥
allow-lan = true

# Proxy Provider é…ç½® - æ§åˆ¶è®¢é˜…æºçš„è¡Œä¸º
[provider-config]
# å¥åº·æ£€æŸ¥ URL
health-check-url = "http://www.gstatic.com/generate_204"
# å¥åº·æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
health-check-interval = 300
# è®¢é˜…æ›´æ–°é—´éš”ï¼ˆç§’ï¼‰
update-interval = 3600
# æ˜¯å¦å»¶è¿ŸåŠ è½½ï¼ˆé¦–æ¬¡ä½¿ç”¨æ—¶æ‰è¿›è¡Œå¥åº·æ£€æŸ¥ï¼‰
lazy = true

# åœ°åŒºä»£ç†ç»„é…ç½®
[region-groups]
# æ˜¯å¦å¯ç”¨åœ°åŒºä»£ç†ç»„è‡ªåŠ¨ç”Ÿæˆ
enabled = true
# æ˜¯å¦ä¸ºæ¯ä¸ªåœ°åŒºåˆ›å»ºè‡ªåŠ¨æµ‹è¯•ç»„ï¼ˆå¦‚ HK-Autoï¼‰
create-auto-groups = true
# å…¨å±€è¿‡æ»¤å™¨ï¼ˆå¯é€‰ï¼Œä¼šåº”ç”¨åˆ°æ‰€æœ‰åœ°åŒºè¿‡æ»¤å™¨ï¼‰
# global-filter = "some-pattern"

# è‡ªå®šä¹‰åœ°åŒºæ¨¡æ¿ï¼ˆå¯é€‰ï¼Œå¦‚æœä¸é…ç½®åˆ™ä½¿ç”¨å†…ç½®æ¨¡æ¿ï¼‰
[[region-groups.regions]]
name = "HK"
display-name = "é¦™æ¸¯"
filter = "(?i)(hk|hong kong|é¦™æ¸¯|æ¸¯)"
icon = "ğŸ‡­ğŸ‡°"

[[region-groups.regions]]
name = "US"
display-name = "ç¾å›½"
filter = "(?i)(us|usa|united states|ç¾å›½|ç¾)"
icon = "ğŸ‡ºğŸ‡¸"

[[region-groups.regions]]
name = "JP"
display-name = "æ—¥æœ¬"
filter = "(?i)(jp|japan|æ—¥æœ¬|æ—¥)"
icon = "ğŸ‡¯ğŸ‡µ"

[[region-groups.regions]]
name = "SG"
display-name = "æ–°åŠ å¡"
filter = "(?i)(sg|singapore|æ–°åŠ å¡|æ–°)"
icon = "ğŸ‡¸ğŸ‡¬"

[[region-groups.regions]]
name = "TW"
display-name = "å°æ¹¾"
filter = "(?i)(tw|taiwan|å°æ¹¾|å°)"
icon = "ğŸ‡¹ğŸ‡¼"

[[region-groups.regions]]
name = "KR"
display-name = "éŸ©å›½"
filter = "(?i)(kr|korea|éŸ©å›½|éŸ©)"
icon = "ğŸ‡°ğŸ‡·"

# è®¢é˜…æºé…ç½® - æ·»åŠ ä½ çš„ Clash è®¢é˜…é“¾æ¥
[proxies]
# è®¢é˜…æºåç§° = "è®¢é˜…é“¾æ¥"
provider1 = "https://example1.com/clash/subscription"
provider2 = "https://example2.com/clash/subscription"
# å¯ä»¥æ·»åŠ æ›´å¤šè®¢é˜…æº
# provider3 = "https://example3.com/clash/subscription"

# ç”¨æˆ·è‡ªå®šä¹‰ä»£ç†ç»„
# è¿™äº›ä»£ç†ç»„ä¼šä¸è‡ªåŠ¨ç”Ÿæˆçš„åœ°åŒºä»£ç†ç»„åˆå¹¶

# å…¨å±€ä»£ç†é€‰æ‹©ç»„
[[groups]]
name = "Proxies"
type = "select"
# å¯ä»¥å¼•ç”¨åœ°åŒºä»£ç†ç»„
proxies = ["Auto", "HK", "US", "JP", "SG", "DIRECT"]

# å…¨å±€è‡ªåŠ¨æµ‹è¯•ç»„
[[groups]]
name = "Auto"
type = "url-test"
# ä½¿ç”¨æ‰€æœ‰ provider çš„èŠ‚ç‚¹
use = ["provider1", "provider2"]
url = "http://www.gstatic.com/generate_204"
interval = 300

# æœåŠ¡ç‰¹å®šä»£ç†ç»„
[[groups]]
name = "OpenAI"
type = "select"
# ä¼˜å…ˆä½¿ç”¨ç¾å›½èŠ‚ç‚¹
proxies = ["US", "US-Auto", "Proxies"]

[[groups]]
name = "Netflix"
type = "select"
# æ”¯æŒ Netflix çš„åœ°åŒº
proxies = ["HK", "US", "JP", "SG"]

[[groups]]
name = "Apple"
type = "select"
# Apple æœåŠ¡å»ºè®®ç›´è¿æˆ–ä½¿ç”¨é¦™æ¸¯èŠ‚ç‚¹
proxies = ["DIRECT", "HK", "US"]

[[groups]]
name = "Telegram"
type = "select"
proxies = ["Proxies", "HK", "US", "SG"]

[[groups]]
name = "Microsoft"
type = "select"
proxies = ["DIRECT", "Proxies"]

[[groups]]
name = "Games"
type = "select"
# æ¸¸æˆå»ºè®®ä½¿ç”¨ä½å»¶è¿ŸèŠ‚ç‚¹
proxies = ["DIRECT", "HK-Auto", "JP-Auto", "KR-Auto"]

# è§„åˆ™é…ç½®
# æ”¯æŒå•ä¸ªè§„åˆ™å’Œè§„åˆ™é›†

# å•ä¸ªè§„åˆ™ç¤ºä¾‹
[[rules]]
type = "single"
tag = "DOMAIN"
value = "example.com"
target = "DIRECT"

[[rules]]
type = "single"
tag = "DOMAIN-SUFFIX"
value = "google.com"
target = "Proxies"

[[rules]]
type = "single"
tag = "DOMAIN-KEYWORD"
value = "github"
target = "Proxies"

# è§„åˆ™é›†ç¤ºä¾‹
[[rules]]
name = "ad"
type = "set"
url = "https://raw.githubusercontent.com/earoftoast/clash-rules/main/AD.yaml"
behavior = "domain"
target = "REJECT"
# å¯é€‰ï¼šè‡ªå®šä¹‰æ›´æ–°é—´éš”ï¼ˆç§’ï¼‰
interval = 86400

[[rules]]
name = "openai"
type = "set"
url = "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/OpenAI/OpenAI.yaml"
behavior = "classical"
target = "OpenAI"

[[rules]]
name = "netflix"
type = "set"
url = "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Netflix/Netflix.yaml"
behavior = "classical"
target = "Netflix"

[[rules]]
name = "apple"
type = "set"
url = "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt"
behavior = "domain"
target = "Apple"

[[rules]]
name = "microsoft"
type = "set"
url = "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Microsoft/Microsoft.yaml"
behavior = "classical"
target = "Microsoft"

[[rules]]
name = "telegram"
type = "set"
url = "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Telegram/Telegram.yaml"
behavior = "classical"
target = "Telegram"

[[rules]]
name = "games"
type = "set"
url = "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Game/Game.yaml"
behavior = "classical"
target = "Games"

# å¹¿å‘Šæ‹¦æˆªè§„åˆ™é›†
[[rules]]
name = "reject"
type = "set"
url = "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
behavior = "domain"
target = "REJECT"

# å›½å†…ç›´è¿è§„åˆ™é›†
[[rules]]
name = "direct"
type = "set"
url = "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt"
behavior = "domain"
target = "DIRECT"

[[rules]]
name = "private"
type = "set"
url = "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt"
behavior = "domain"
target = "DIRECT"

# éœ€è¦ä»£ç†çš„è§„åˆ™é›†
[[rules]]
name = "proxy"
type = "set"
url = "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt"
behavior = "domain"
target = "Proxies"

[[rules]]
name = "gfw"
type = "set"
url = "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt"
behavior = "domain"
target = "Proxies"

# IP è§„åˆ™é›†
[[rules]]
name = "telegramcidr"
type = "set"
url = "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt"
behavior = "ipcidr"
target = "Telegram"

[[rules]]
name = "cncidr"
type = "set"
url = "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt"
behavior = "ipcidr"
target = "DIRECT"

[[rules]]
name = "lancidr"
type = "set"
url = "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"
behavior = "ipcidr"
target = "DIRECT"

# å…œåº•è§„åˆ™
[[rules]]
type = "single"
tag = "GEOIP"
value = "LAN"
target = "DIRECT"

[[rules]]
type = "single"
tag = "GEOIP"
value = "CN"
target = "DIRECT"

# æœ€ç»ˆåŒ¹é…è§„åˆ™
[[rules]]
type = "single"
tag = "MATCH"
target = "Proxies"